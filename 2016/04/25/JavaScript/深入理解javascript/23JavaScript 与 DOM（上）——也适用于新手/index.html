<!DOCTYPE html>


  <html class="light page-post">


<head>
  <meta charset="utf-8">
  
  <title>JavaScript 与 DOM（上）——也适用于新手 | xuhongbo</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="poetries,前端,设计,Hexo主题,前端开发,用户体验,设计,frontend,design,nodejs,JavaScript" />
  

  <meta name="description" content="文档对象模型 Document Object ModelDOM（Document Object Model，文档对象模型）是一个通过和 JavaScript 进行内容交互的 API。Javascript 和 DOM 一般经常作为一个整体，因为 Javascript 通常都是用来进行 DOM 操作和交互的。">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript 与 DOM（上）——也适用于新手">
<meta property="og:url" content="http://xuhongbo.com/2016/04/25/JavaScript/深入理解javascript/23JavaScript 与 DOM（上）——也适用于新手/index.html">
<meta property="og:site_name" content="xuhongbo">
<meta property="og:description" content="文档对象模型 Document Object ModelDOM（Document Object Model，文档对象模型）是一个通过和 JavaScript 进行内容交互的 API。Javascript 和 DOM 一般经常作为一个整体，因为 Javascript 通常都是用来进行 DOM 操作和交互的。">
<meta property="og:image" content="http://wiki.jikexueyuan.com/project/javascript-depth-understanding/images/12.png">
<meta property="og:image" content="http://wiki.jikexueyuan.com/project/javascript-depth-understanding/images/13.png">
<meta property="og:image" content="http://wiki.jikexueyuan.com/project/javascript-depth-understanding/images/14.png">
<meta property="og:updated_time" content="2017-03-02T14:10:08.952Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JavaScript 与 DOM（上）——也适用于新手">
<meta name="twitter:description" content="文档对象模型 Document Object ModelDOM（Document Object Model，文档对象模型）是一个通过和 JavaScript 进行内容交互的 API。Javascript 和 DOM 一般经常作为一个整体，因为 Javascript 通常都是用来进行 DOM 操作和交互的。">
<meta name="twitter:image" content="http://wiki.jikexueyuan.com/project/javascript-depth-understanding/images/12.png">

  

  
    <link rel="icon" href="/favicon.ico">
  

  <link href="/css/styles.css?v=d671a41f" rel="stylesheet">


  

  

  

</head>

<body>


  
    <span id="toolbox-mobile" class="toolbox-mobile">盒子</span>
  

  <div class="post-header CENTER">
   
  <div class="toolbox">
    <a class="toolbox-entry" href="/">
      <span class="toolbox-entry-text">盒子</span>
      <i class="icon-angle-down"></i>
      <i class="icon-home"></i>
    </a>
    <ul class="list-toolbox">
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/archives/"
            rel="noopener noreferrer"
            target="_self"
            >
            博客
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/categories/"
            rel="noopener noreferrer"
            target="_self"
            >
            分类
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/tags/"
            rel="noopener noreferrer"
            target="_self"
            >
            标签
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/about/"
            rel="noopener noreferrer"
            target="_self"
            >
            关于
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/search/"
            rel="noopener noreferrer"
            target="_self"
            >
            搜索
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/atom.xml"
            rel="noopener noreferrer"
            target="_blank"
            >
            RSS
          </a>
        </li>
      
    </ul>
  </div>


</div>


  <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录<i class="iconfont toc-title" style="display:inline-block;color:#87998d;width:20px;height:20px;">&#xf004b;</i></strong>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#文档对象模型-Document-Object-Model"><span class="toc-text">文档对象模型 Document Object Model</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Web-上的-JavaScript"><span class="toc-text">Web 上的 JavaScript</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Script-元素"><span class="toc-text">Script 元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Defer属性"><span class="toc-text">Defer属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#连接外部脚本"><span class="toc-text">连接外部脚本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JavaScript-必备"><span class="toc-text">JavaScript 必备</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Number"><span class="toc-text">Number</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Boolean"><span class="toc-text">Boolean</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Function"><span class="toc-text">Function</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Array"><span class="toc-text">Array</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IF-Else-语句"><span class="toc-text">IF/Else 语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JavaScript-操作符"><span class="toc-text">JavaScript 操作符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Loop循环"><span class="toc-text">Loop循环</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DOM-正文"><span class="toc-text">DOM 正文</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#访问-DOM-节点"><span class="toc-text">访问 DOM 节点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#getElementsByTagName"><span class="toc-text">getElementsByTagName</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DOM-穿梭"><span class="toc-text">DOM 穿梭</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#总结"><span class="toc-text">总结</span></a></li></ol>
  </div>
  <i class="iconfont" id="toc-eye" style="display:inline-block;color:#b36619;position:absolute;top:72px;right:233px;cursor:pointer;
    font-size: 24px;">&#xe61c;</i>
  <script src="//cdn.bootcss.com/jquery/3.1.0/jquery.min.js"></script>
  <script>
	$("#toc-eye").click(function(){
	
			$("#toc.toc-article").toggle(1000);
			$(this).css({
				"right":"265px"
			});
		
	});
  </script>



<div class="content content-post CENTER">
   <canvas id="evanyou" width="1302" height="678" style="position: fixed;width: 100%;height: 100%;top: 0;left:0;z-index:-1;"></canvas>
<article id="post-JavaScript/深入理解javascript/23JavaScript 与 DOM（上）——也适用于新手" class="article article-type-post" itemprop="blogPost">
  <header class="article-header">
    <h1 class="post-title">JavaScript 与 DOM（上）——也适用于新手</h1>

    <div class="article-meta">
      <span>
        <i class="icon-calendar"></i>
        <span>2016.04.25</span>
      </span>

      
        <span class="article-author">
          <i class="icon-user"></i>
          <span>xuhongbo</span>
        </span>
      

      


      

    </div>
  </header>

  <div class="article-content">
    
      <h2 id="文档对象模型-Document-Object-Model"><a href="#文档对象模型-Document-Object-Model" class="headerlink" title="文档对象模型 Document Object Model"></a>文档对象模型 Document Object Model</h2><p>DOM（Document Object Model，文档对象模型）是一个通过和 JavaScript 进行内容交互的 API。Javascript 和 DOM 一般经常作为一个整体，因为 Javascript 通常都是用来进行 DOM 操作和交互的。<br><a id="more"></a><br><img src="http://wiki.jikexueyuan.com/project/javascript-depth-understanding/images/12.png" alt="img"></p>
<p>关于DOM，有些知识需要注意：</p>
<ol>
<li>window 对象作为全局对象，也就是说你可以通过 window 来访问全局对象。<ol>
<li>属性在对象下面以变量的形式存放，在页面上创建的所有全局对象都会变成 window 对象的属性。</li>
<li>方法在对象下面以函数的形式存放，因为左右的函数都存放在 window 对象下面，所以他们也可以称为方法。</li>
</ol>
</li>
<li>DOM 为 web 文档创建带有层级的结果，这些层级是通过 node 节点组成，这里有几种 DOM node 类型，最重要的是 Element，Text，Document。<ol>
<li>Element 节点在页面里展示的是一个元素，所以如果你有段落元素(``)，你可以通过这个 DOM 节点来访问。</li>
<li>Text 节点在页面里展示的所有文本相关的元素，所以如果你的段落有文本在里面的话，你可以直接通过 DOM 的 Text 节点来访问这个文本</li>
<li>Document 节点代表是整个文档，它是 DOM 的根节点。</li>
</ol>
</li>
<li>每个引擎对 DOM 标准的实现有一些轻微的不同。例如，Firefox 浏览器使用的 Gecko 引擎有着很好的实现（尽管没有完全遵守 W3C 规范），但 IE 浏览器使用的 Trident 引擎的实现却不完整而且还有 bug，给开发人言带来了很多问题。</li>
</ol>
<p><code>如果你正在使用 Firefox，我推荐你立即下载 Firebug 插件，对于你了解 DOM 结构非常有用。</code></p>
<h2 id="Web-上的-JavaScript"><a href="#Web-上的-JavaScript" class="headerlink" title="Web 上的 JavaScript"></a>Web 上的 JavaScript</h2><h3 id="Script-元素"><a href="#Script-元素" class="headerlink" title="Script 元素"></a>Script 元素</h3><p>当你在网站页面上使用 JavaScript 的时候，需要使用 `` 元素：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;  </div><div class="line">&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; lang=&quot;en&quot;&gt;  </div><div class="line">    &lt;head&gt;  </div><div class="line">            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;  </div><div class="line">            &lt;title&gt;JavaScript!&lt;/title&gt;  </div><div class="line">    &lt;/head&gt;  </div><div class="line">    &lt;body&gt;        </div><div class="line">        &lt;script type=&quot;text/javascript&quot;&gt;  </div><div class="line">        // &lt;![CDATA[     </div><div class="line">        // ]]&gt;  </div><div class="line">        &lt;/script&gt;        </div><div class="line">    &lt;/body&gt;  </div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p>上述代码，严格来说 SCRIPT 的 TYPE 属性应该设置为 application/javascript，但是由于 IE 不支持这个，所以平时我们不得不写成 text/javascript 或者直接去掉 type。另外你也可以看到在 SCRIPT 元素里的注释行// &lt;![CDATA[ 是用来告诉支持 XHTML 的浏览器，这里面的代码是字符数据而不是 XHTML 标签，比如如果你在里面的数据使用了 &lt; 或 &gt;，浏览器就不会再解析成 XHTML 标签了。</p>
<h3 id="Defer属性"><a href="#Defer属性" class="headerlink" title="Defer属性"></a>Defer属性</h3><p>任何在 SCRIPT 元素里声明的代码在页面加载的时候都会运行，唯一一个例外是给 SCRIPT 元素加上一个 defer 属性。defer 属性告诉浏览器加载完HTML文档以后再执行 JS 代码，但这个属性只能在 IE 下使用。</p>
<h3 id="连接外部脚本"><a href="#连接外部脚本" class="headerlink" title="连接外部脚本"></a>连接外部脚本</h3><p>如果你想了解外部脚本，只需要简单地在 SCRIPT 上使用 SRC 属性就行了，使用单独的 JS 文件的好处是可以缓存，而且也不需要担心 CDATA 方面的问题：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;my-script.js&quot;&gt;&lt;/script&gt;</div></pre></td></tr></table></figure>
<h3 id="JavaScript-必备"><a href="#JavaScript-必备" class="headerlink" title="JavaScript 必备"></a>JavaScript 必备</h3><p>在我们继续 DOM 之前，我们来复习一下 JavaScript 的核心必备知识，如果你还不了解，也没关系，我们在这一章节将稍微花点时间来回顾一下。</p>
<p>JavaScript 有几种数据类型：Number，String，Boolean，Object，Undefined and Null。</p>
<p>单行注释使用双斜杠//，双斜杠后面的所有文字都会被注释掉，多行注意使用<code>/*</code>和<code>*/</code>括住。</p>
<h3 id="Number"><a href="#Number" class="headerlink" title="Number"></a>Number</h3><p>在 JavaScript 里所有的 Number 都是浮点型的，当声明一个数字变量的时候，记得不要使用任何引号。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">// 注：使用var类声明变量</div><div class="line">var leftSide = 100;  </div><div class="line">var topSide = 50;  </div><div class="line">var areaOfRectangle = leftSide * topSide; // = 5000  </div><div class="line">String</div></pre></td></tr></table></figure>
<p>JavaScript 里声明字符串特别简单，和其它语言一样，在 JS 里使用单引号或双引号都可以。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var firstPart = &apos;Hello&apos;;  </div><div class="line">var secondPart = &apos;World!&apos;;  </div><div class="line">var allOfIt = firstPart + &apos; &apos; + secondPart; // Hello World!  </div><div class="line">// +符合是字符连接符。也用于数字相加</div></pre></td></tr></table></figure>
<h3 id="Boolean"><a href="#Boolean" class="headerlink" title="Boolean"></a>Boolean</h3><p>布尔类型用于条件判断，布尔类型是只有 2 个值：true 和 false。任何使用逻辑操作符的比较都会返回布尔值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">5 === (3 + 2); // = true  </div><div class="line">// 你也可以将布尔值赋给一个变量</div><div class="line">var veryTired = true;</div><div class="line">// 这样使用</div><div class="line">if (veryTired) &#123;</div><div class="line">    // 执行代码 </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>===也是比较操作符，不仅比较数值，还比较类型。</p>
<h3 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h3><p>函数是特殊的对象。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">// 使用function操作符来声明新函数  </div><div class="line">function myFunctionName(arg1, arg2) &#123;</div><div class="line">    // 函数代码</div><div class="line">&#125;</div><div class="line">// 你也可以声明匿名函数 </div><div class="line">function (arg1, arg2) &#123;</div><div class="line">    // Function code goes here.  </div><div class="line">&#125;</div><div class="line">// 运行函数很简单，直接在函数名称后面加上小括号就可以了</div><div class="line">// 或者也可以带上参数</div><div class="line">myFunctionName(); // 无参</div><div class="line">myFunctionName(&apos;foo&apos;, &apos;bar&apos;); // 有参数</div><div class="line">// 也可以使用自调用  </div><div class="line">(function () &#123;</div><div class="line">    // 这里自调用函数</div><div class="line">&#125;)();</div></pre></td></tr></table></figure>
<h3 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h3><p>数组也是特殊的对象，它包含了一批值（或对象），访问这些数据的话需要使用数字索引：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">// 2种方式声明数组</div><div class="line">// 字面量:  </div><div class="line">var fruit = [&apos;apple&apos;, &apos;lemon&apos;, &apos;banana&apos;];</div><div class="line">// Array构造函数:  </div><div class="line">var fruit = new Array(&apos;apple&apos;, &apos;lemon&apos;, &apos;banana&apos;);</div><div class="line">fruit[0]; // 访问第1个项(apple)  </div><div class="line">fruit[1]; // 访问第2个项(lemon)  </div><div class="line">fruit[2]; // 访问第3个项(banana) </div><div class="line">Object</div></pre></td></tr></table></figure>
<p>一个对象是一个 key-value 的集合，和数组相似，唯一的不同是你可以为每个数据定义一个名称。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">// 2种类型定义Object对象</div><div class="line">// 字面量（大括号）</div><div class="line">var profile = &#123;</div><div class="line">    name: &apos;Bob&apos;,</div><div class="line">    age: 99,</div><div class="line">    job: &apos;Freelance Hitman&apos;</div><div class="line">&#125;;</div><div class="line">// 使用Object构造函数</div><div class="line">var profile = new Object();</div><div class="line">profile.name = &apos;Bob&apos;;</div><div class="line">profile.age = 99;</div><div class="line">profile.job = &apos;Freelance Hitman&apos;;</div></pre></td></tr></table></figure>
<h3 id="IF-Else-语句"><a href="#IF-Else-语句" class="headerlink" title="IF/Else 语句"></a>IF/Else 语句</h3><p>JS 里使用最多的语句莫过于条件语句了：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">var legalDrinkingAge = 21;  </div><div class="line">var yourAge = 29;  </div><div class="line">if ( yourAge &gt;= legalDrinkingAge ) &#123;   </div><div class="line">    alert(&apos;You can drink.&apos;);  </div><div class="line">&#125; else &#123;  </div><div class="line">    alert(&apos;Sorry, you cannot drink.&apos;);</div></pre></td></tr></table></figure>
<h3 id="JavaScript-操作符"><a href="#JavaScript-操作符" class="headerlink" title="JavaScript 操作符"></a>JavaScript 操作符</h3><p>建议你访问这个页面来查看所有的 JS 操作符，这里我仅仅给出一些例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">// 加减乘除</div><div class="line">var someMaths = 2 + 3 + 4 - 10 * 100 / 2;     </div><div class="line">// 等于  </div><div class="line">if ( 2 == (5 - 3 ) &#123; /* 代码 */ &#125; // == 比较是否相等</div><div class="line">// 不等于 </div><div class="line">if ( 2 != (5 - 3 ) &#123; /* 代码 */ &#125;   </div><div class="line">// 严格等于（推荐） </div><div class="line">2 === 2 // 代替 2 == 2  </div><div class="line">2 !== 3 // 代替 2 != 3  </div><div class="line">// 赋值:  </div><div class="line">var numberOfFruit = 9;  </div><div class="line">numberOfFruit -= 2; // 等价于 &quot;numberOfFruit = numberOfFruit - 2&quot;  </div><div class="line">numberOfFruit += 2; // 等价于 &quot;numberOfFruit = numberOfFruit + 2&quot;</div></pre></td></tr></table></figure>
<h3 id="Loop循环"><a href="#Loop循环" class="headerlink" title="Loop循环"></a>Loop循环</h3><p>Loop 循环在是遍历数组或者对象的所有成员的时候非常方便，JavaScript 里使用最多的是 FOR 和 WHILE 语句。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">var envatoTutSites = [&apos;NETTUTS&apos;, &apos;PSDTUTS&apos;, &apos;AUDIOTUTS&apos;, &apos;AETUTS&apos;, &apos;VECTORTUTS&apos;];</div><div class="line">// WHILE循环</div><div class="line">var counter = 0;</div><div class="line">var lengthOfArray = envatoTutSites.length;</div><div class="line">while (counter &lt; lengthOfArray) &#123;</div><div class="line">    alert(envatoTutSites[counter]);</div><div class="line">    counter++; // 等价于counter += 1;  </div><div class="line">&#125;</div><div class="line">// FOR循环</div><div class="line">// i只是用于迭代，可以任意取名 </div><div class="line">for (var i = 0, length = envatoTutSites.length; i &lt; length; i++) &#123;</div><div class="line">    alert(envatoTutSites[i]);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="DOM-正文"><a href="#DOM-正文" class="headerlink" title="DOM 正文"></a>DOM 正文</h2><h3 id="访问-DOM-节点"><a href="#访问-DOM-节点" class="headerlink" title="访问 DOM 节点"></a>访问 DOM 节点</h3><p>我们来个例子，一个 HTML 里包含一段文本和一个无序的列表。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;  </div><div class="line">&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; lang=&quot;en&quot;&gt;  </div><div class="line">    &lt;head&gt;  </div><div class="line">            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;  </div><div class="line">            &lt;title&gt;JavaScript!&lt;/title&gt;  </div><div class="line">    &lt;/head&gt;  </div><div class="line">    &lt;body&gt;  </div><div class="line">        &lt;p id=&quot;intro&quot;&gt;My first paragraph...&lt;/p&gt;  </div><div class="line">        &lt;ul&gt;  </div><div class="line">            &lt;li&gt;List item 1&lt;/li&gt;  </div><div class="line">            &lt;li&gt;List item 1&lt;/li&gt;  </div><div class="line">            &lt;li&gt;List item 1&lt;/li&gt;  </div><div class="line">            &lt;li&gt;List item 1&lt;/li&gt;  </div><div class="line">            &lt;li&gt;List item 1&lt;/li&gt;  </div><div class="line">        &lt;/ul&gt;  </div><div class="line">        &lt;script type=&quot;text/javascript&quot;&gt;  </div><div class="line">        // &lt;![CDATA[  </div><div class="line">        // ]]&gt;  </div><div class="line">&lt;/script&gt;  </div><div class="line">    &lt;/body&gt;  </div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p>上面例子里，我们使用 getElementById DOM 方法来访问 p 段落，在 SCRIPT 里添加如下代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var introParagraph = document.getElementById(&apos;intro&apos;);  </div><div class="line">// 现在有了该DOM节点，这个DOM节点展示的是该信息段落</div></pre></td></tr></table></figure>
<p>变量 introParagraph 现在已经引用到该 DOM 节点上了，我们可以对该节点做很多事情，比如查询内容和属性，或者其它任何操作，甚至可以删除它，克隆它，或者将它移到到 DOM 树的其它节点上。</p>
<p>文档上的任何内容，我们都可以使用 JavaScript 和 DOM API 来访问，所以类似地，我们也可以访问上面的无序列表，唯一的问题是该元素没有 ID 属性，如果 ID 的话就可以使用相同的方式，或者使用如下 getElementsByTagName 方式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var allUnorderedLists = document.getElementsByTagName(&apos;ul&apos;);  </div><div class="line">// &apos;getElementsByTagName&apos;返回的是一个节点集合</div><div class="line">// - 和数组有点相似</div></pre></td></tr></table></figure>
<h3 id="getElementsByTagName"><a href="#getElementsByTagName" class="headerlink" title="getElementsByTagName"></a>getElementsByTagName</h3><p>getElementsByTagName 方法返回的是一个节点集合，和数组类似也有 length 属性，重要的一个特性是他是 live 的——如果你在该元素里添加一个新的 li 元素，这个集合就会自动更新，介于他和数组类型，所以可以和访问数组一样的方法来访问，所以从 0 开始：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">// 访问无序列表: [0]索引</div><div class="line">var unorderedList = document.getElementsByTagName(&apos;ul&apos;)[0];</div><div class="line">// 获取所有的li集合:  </div><div class="line">var allListItems = unorderedList.getElementsByTagName(&apos;li&apos;);</div><div class="line">// 循环遍历</div><div class="line">for (var i = 0, length = allListItems.length; i &lt; length; i++) &#123;</div><div class="line">    // 弹出该节点的text内容</div><div class="line">    alert(allListItems[i].firstChild.data);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>以下图例更清晰地展示了 DOM 获取的知识：</p>
<p><img src="http://wiki.jikexueyuan.com/project/javascript-depth-understanding/images/13.png" alt="img"></p>
<h3 id="DOM-穿梭"><a href="#DOM-穿梭" class="headerlink" title="DOM 穿梭"></a>DOM 穿梭</h3><p>“穿梭”这个词主要是用来描述通过 DOM 查找节点，DOM API 提供了大量的节点属性让我们来往上或者往下查询节点。</p>
<p>所有的节点都有这些属性，都是可以用于访问相关的 node 节点：</p>
<ol>
<li>Node.childNodes: 访问一个单元素下所有的直接子节点元素，可以是一个可循环的类数组对象。该节点集合可以保护不同的类型的子节点（比如 text 节点或其他元素节点）。</li>
<li>Node.firstChild: 与‘childNodes’数组的第一个项(‘Element.childNodes[0]‘)是同样的效果，仅仅是快捷方式。</li>
<li>Node.lastChild: 与‘childNodes’数组的最后一个项(‘Element.childNodes[Element.childNodes.length-1]‘)是同样的效果，仅仅是快捷方式。shortcut。</li>
<li>Node.parentNode: 访问当前节点的父节点，父节点只能有一个，祖节点可以用‘Node.parentNode.parentNode’的形式来访问。</li>
<li>Node.nextSibling: 访问 DOM 树上与当前节点同级别的下一个节点。</li>
<li>Node.previousSibling: 访问 DOM 树上与当前节点同级别的上一个节点。</li>
</ol>
<p><img src="http://wiki.jikexueyuan.com/project/javascript-depth-understanding/images/14.png" alt="img"></p>
<p>通过这张图，理解起来就简单多了，但有个非常重要的知识点：那就是元素之间不能有空格，如果 ul 和 li 之间有空格的话，就会被认为是内容为空的 text node 节点，这样 ul.childNodes[0]就不是第一个 li 元素了。相应地，</p><p>的下一个节点也不是<ul>，因为<p>和<ul>之间有一个空行的节点，一般遇到这种情况需要遍历所有的子节点然后判断 nodeType 类型，1 是元素，2 是属性，3 是 text 节点，详细的 type 类型可以通过此地址：</ul></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">Node.ELEMENT_NODE == 1</div><div class="line">Node.ATTRIBUTE_NODE == 2</div><div class="line">Node.TEXT_NODE == 3</div><div class="line">Node.CDATA_SECTION_NODE == 4</div><div class="line">Node.ENTITY_REFERENCE_NODE == 5</div><div class="line">Node.ENTITY_NODE == 6</div><div class="line">Node.PROCESSING_INSTRUCTION_NODE == 7</div><div class="line">Node.COMMENT_NODE == 8</div><div class="line">Node.DOCUMENT_NODE == 9</div><div class="line">Node.DOCUMENT_TYPE_NODE == 10</div><div class="line">Node.DOCUMENT_FRAGMENT_NODE == 11</div><div class="line">Node.NOTATION_NODE == 12</div></pre></td></tr></table></figure>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>原生的 DOM 方法和属性足够我们日常的应用了，本章节我们只列举了一些例子，下一章节我们列举更多的例子，还会包括浏览器事件模型。</p>
</ul></p>
    
  </div>
</article>

<button class="assist-btn2 circle" id="assist_btn2" title="点亮屏幕" style="left: 27px; top: 152px;">
         <i class="iconfont" style="display:inline-block;color:red;width:20px;height:20px;">&#xe61d;</i>
    </button>
<button class="assist-btn1 circle" id="assist_btn1" title="关闭屏幕亮度" style="left: 27px; top: 152px;">
         <i class="iconfont toc-title" style="display:inline-block;color:red;width:20px;height:20px;">&#xe61d;</i>
    </button>
	

<script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>	
<script type="text/javascript">


    // white theme
    var body = {color: "#555", background: "#000"};
    var a_tag = {color: "#222"};
    var header = { background: "#222"};
    var logo_line_i = {background: "#222"};
    // var post_code = {background: "#eee", color: "#222"};

    function switch_theme() {
        $("body").css(body);
        $("a:not('.links-of-author-item a, .site-state-item a, .site-state-posts a, .feed-link a, .motion-element a, .post-tags a, .show-commit-cls a, #donate_board a')").css(a_tag);
        $(".header, .footer").css(header);
        $(".logo-line-before i, .logo-line-after i").css(logo_line_i);
        //$(".post code").css(post_code);
        $("#idhyt-surprise-ball #idhyt-surprise-ball-animation .drag").css(a_tag);
        $(".post-title-link, .posts-expand .post-meta, .post-comments-count, .disqus-comment-count, .post-category a, .post-nav-next a, .post-nav-item a").css(a_tag);
        
        // $("code").css({color: '#c5c8c6', background: '#1d1f21'});
        //$("#assist_btn1").hide(1500);
    }

    $(function () {
		$("#assist_btn2").css("display","none");
        $("#assist_btn1").click(function() {
            switch_theme();
			$("div#toc.toc-article").css({
				"background":"#eaeaea",
				"opacity":1
			});
			$(".toc-article ol").show();
			$("#toc.toc-article .toc-title").css("color","#a98602");
			$("#assist_btn1").css("display","none");
			$("#assist_btn2").css("display","block");
        });
		$("#assist_btn2").click(function() {
			$("#assist_btn2").css("display","none");
			$("#assist_btn1").css("display","block");
			 $("body").css("background","url(http://www.miaov.com/static/ie/images/news/bg.png)")
            $(".header, .footer").css("background","url(http://www.miaov.com/static/ie/images/news/bg.png)")
			$(".toc-article ol").toggle(1000);
        });
    });

	
	//背景随机

	var Y, O, E, L, B, C, T, z, N, S, A, I;
	!function() {
	var e = function() {
		for (O.clearRect(0, 0, L, B), T = [{
			x: 0,
			y: .7 * B + C
		}, {
			x: 0,
			y: .7 * B - C
		}]; T[1].x < L + C;) t(T[0], T[1])
	}, t = function(e, t) {
			O.beginPath(), O.moveTo(e.x, e.y), O.lineTo(t.x, t.y);
			var n = t.x + (2 * I() - .25) * C,
				r = a(t.y);
			O.lineTo(n, r), O.closePath(), N -= S / -50, O.fillStyle = "#" + (127 * A(N) + 128 << 16 | 127 * A(N + S / 3) + 128 << 8 | 127 * A(N + S / 3 * 2) + 128).toString(16), O.fill(), T[0] = T[1], T[1] = {
				x: n,
				y: r
			}
		}, a = function n(e) {
			var t = e + (2 * I() - 1.1) * C;
			return t > B || t < 0 ? n(e) : t
		};
	Y = document.getElementById("evanyou"), O = Y.getContext("2d"), E = window.devicePixelRatio || 1, L = window.innerWidth, B = window.innerHeight, C = 90, z = Math, N = 0, S = 2 * z.PI, A = z.cos, I = z.random, Y.width = L * E, Y.height = B * E, O.scale(E, E), O.globalAlpha = .6, document.onclick = e, document.ontouchstart = e, e()
	}()

          



</script>

</div>


  <div class="text-center donation">
    <div class="inner-donation">
      <span class="btn-donation">支持一下</span>
      <div class="donation-body">
        <div class="tip text-center">扫一扫，支持poetries</div>
        <ul class="theme.donation.items.length">
        
          <li class="item">
            <img src="/images/weixin.jpg" alt="">
          </li>
        
          <li class="item">
            <img src="/images/zhifubao.jpg" alt="">
          </li>
        
        </ul>
      </div>
    </div>
  </div>




  <a id="backTop" class="back-top">
    <i class="icon-angle-up"></i>
  </a>




  <div class="modal" id="modal">
  <span id="cover" class="cover hide"></span>
  <div id="modal-dialog" class="modal-dialog hide-dialog">
    <div class="modal-header">
      <span id="close" class="btn-close">关闭</span>
    </div>
    <hr>
    <div class="modal-body">
      <ul class="list-toolbox">
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/archives/"
              rel="noopener noreferrer"
              target="_self"
              >
              博客
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/categories/"
              rel="noopener noreferrer"
              target="_self"
              >
              分类
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/tags/"
              rel="noopener noreferrer"
              target="_self"
              >
              标签
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/about/"
              rel="noopener noreferrer"
              target="_self"
              >
              关于
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/search/"
              rel="noopener noreferrer"
              target="_self"
              >
              搜索
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/atom.xml"
              rel="noopener noreferrer"
              target="_blank"
              >
              RSS
            </a>
          </li>
        
      </ul>

    </div>
  </div>
</div>



  
      <div class="fexo-comments comments-post">
    

    
  <section class="duoshuo-comments">
    <!-- 多说评论框 start -->
    <div class="ds-thread" data-thread-key="http://xuhongbo.com/2016/04/25/JavaScript/深入理解javascript/23JavaScript 与 DOM（上）——也适用于新手/index.html" data-title="JavaScript 与 DOM（上）——也适用于新手" data-url="http://xuhongbo.com/2016/04/25/JavaScript/深入理解javascript/23JavaScript 与 DOM（上）——也适用于新手/index.html"></div>
    <!-- 多说评论框 end -->
  </section>




  <script type="text/javascript">
  var duoshuoQuery = {short_name:"poetry"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>


  </div>

  

  <script type="text/javascript">
  function loadScript(url, callback) {
    var script = document.createElement('script')
    script.type = 'text/javascript';

    if (script.readyState) { //IE
      script.onreadystatechange = function() {
        if (script.readyState == 'loaded' ||
          script.readyState == 'complete') {
          script.onreadystatechange = null;
          callback();
        }
      };
    } else { //Others
      script.onload = function() {
        callback();
      };
    }

    script.src = url;
    document.getElementsByTagName('head')[0].appendChild(script);
  }

  window.onload = function() {
    loadScript('/js/bundle.js?235683', function() {
      // load success
    });
  }
</script>

</body>
</html>
