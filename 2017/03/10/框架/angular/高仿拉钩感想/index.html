<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> angular高仿某招聘网站后感想 · xuhongbo</title><meta name="description" content="angular高仿某招聘网站后感想 - xuhongbo"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://xuhongbo.com/atom.xml" title="xuhongbo"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">博客</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">文章列表</a></li><li class="nav-list-item"><a href="https://github.com/xuhongbo" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/abstract/" target="_self" class="nav-list-link">个人简介</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">angular高仿某招聘网站后感想</h1><div class="post-info">Mar 10, 2017</div><div class="post-content"><p>这两天闲来无趣，就自己摸索着，高仿了一把某招聘网站手机端，先说一下，我并不会把这个项目进行剖析，我只会进行记录一般的问题，具体的你可以去我的github上面进行fork，然后自己研究</p>
<p>————————————————————————割——————————————————————————–</p>
<h4 id="用到的技术栈以及工具："><a href="#用到的技术栈以及工具：" class="headerlink" title="用到的技术栈以及工具："></a>用到的技术栈以及工具：</h4><ol>
<li>angular1.0</li>
<li>gulp</li>
<li>browser-sync</li>
<li>vs-code</li>
<li>包管理工具我这里用了两个，一个bower，另一个是npm</li>
</ol>
<h4 id="功能点"><a href="#功能点" class="headerlink" title="功能点"></a>功能点</h4><ul>
<li>职位展示</li>
<li>职位收藏</li>
<li>查看职位以及公司详细信息</li>
<li>查看历史记录</li>
<li>在线搜索职位进行条件筛查</li>
<li>查看投递简历记录</li>
<li>面试邀请</li>
<li>登录信息本地缓存（这里用到的是cookie–&gt;angular-cookie）</li>
<li>登陆注册  个人中心</li>
</ul>
<p>话不多说，直接把我的目录亮出来吧</p>
<p><img src="/images/lagou/tree.png" alt="img"></p>
<p>在这个项目中我用到的最多的是directive（指令）,我在使用的时候感觉挺美妙的，有点vue里面模板引擎的感觉，具体的比较可以自己看看vue</p>
<p>项目中用到的路由是第三方的ui-router，这个确实比我们的ng-router还用，如果不知道怎么用，可以看我的另一篇文章，虽然东西不多，但是日常使用还是OK的  <a href="http://xuhongbo.com/2016/12/14/%E6%A1%86%E6%9E%B6/angular/ui-router/">传送门</a></p>
<p>好了话不多说了，直接说下核心的一些东西吧</p>
<p>第一个是我刚刚说过的指令，详细的介绍我另一篇文章  <a href="http://xuhongbo.com/2017/02/18/%E6%A1%86%E6%9E%B6/angular/angular%20Directives/">传送门</a>  也有介绍，但是这个我再补充一下实际应用中的问题</p>
<p>首先贴一个示例上来吧</p>
<p>search.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"search-bar ta-c"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">ng-click</span>=<span class="string">"name='';search();"</span>&gt;</span>取消<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">ng-model</span>=<span class="string">"name"</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">placeholder</span>=<span class="string">"搜索职位/公司/城市"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">ng-click</span>=<span class="string">"search();"</span>  <span class="attr">class</span>=<span class="string">"ta-l"</span>&gt;</span></div><div class="line">    搜索</div><div class="line">  <span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">//这里用到了appTab指令，下面我就把这个指令贴出来，好好的说一下这个指令到底怎么回事</div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">app-tab</span> <span class="attr">list</span>=<span class="string">"tabList"</span> <span class="attr">tab-click</span>=<span class="string">"tClick(id,name)"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"search-list"</span> <span class="attr">filter-obj</span>=<span class="string">"filterObj"</span> <span class="attr">app-position-list</span> <span class="attr">data</span>=<span class="string">"positionList"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">app-foot</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">app-sheet</span> <span class="attr">select</span>=<span class="string">"sClick(id,name)"</span>  <span class="attr">list</span>=<span class="string">"sheet.list"</span> <span class="attr">visible</span>=<span class="string">"visible"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>tab.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="meta">"use strict"</span>;</div><div class="line"></div><div class="line">angular.module(<span class="string">"app"</span>).directive(<span class="string">"appTab"</span>, [<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">        <span class="attr">restrict</span>: <span class="string">"A"</span>,</div><div class="line">        <span class="attr">replace</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">templateUrl</span>: <span class="string">"views/template/tab.html"</span>,</div><div class="line">      <span class="comment">//这里的scope主要是向外部提供接口，把我们的视图与我们的控制器联系起来</span></div><div class="line">        scope: &#123;</div><div class="line">          <span class="comment">//这里的list会在我们引用这个指令时以attr的形式写入我们的指令标签中，然后在那里与我们的数据模型中的数据绑定在一起</span></div><div class="line">            list: <span class="string">"="</span>,</div><div class="line">            <span class="attr">tabClick</span>: <span class="string">"&amp;"</span></div><div class="line">        &#125;,</div><div class="line">        <span class="attr">link</span>: <span class="function"><span class="keyword">function</span> (<span class="params">$scope</span>) </span>&#123;</div><div class="line">            $scope.click = <span class="function"><span class="keyword">function</span> (<span class="params">tab</span>) </span>&#123;</div><div class="line">                $scope.selectId = tab.id;</div><div class="line">                $scope.tabClick(tab);</div><div class="line">            &#125;;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">&#125;]);</div></pre></td></tr></table></figure>
<p>tab.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"tab"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">ng-click</span>=<span class="string">"click(item)"</span> <span class="attr">ng-repeat</span>=<span class="string">"item in list"</span> <span class="attr">class</span>=<span class="string">"d-ib ta-c &#123;&#123;selectId===item.id?'active':''&#125;&#125;"</span> <span class="attr">ng-bind</span>=<span class="string">"item.name"</span>&gt;</span>城市<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div></pre></td></tr></table></figure>
<p>searchCtrl.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div></pre></td><td class="code"><pre><div class="line"><span class="meta">"use strict"</span>;</div><div class="line"></div><div class="line">angular.module(<span class="string">"app"</span>)</div><div class="line">    .controller(<span class="string">"searchCtrl"</span>, [<span class="string">"dict"</span>, <span class="string">"$http"</span>, <span class="string">"$scope"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">dict, $http, $scope</span>) </span>&#123;</div><div class="line">        $scope.name = <span class="string">""</span>;</div><div class="line">        $scope.search = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">            $http.get(<span class="string">"/data/positionList.json?name="</span> + $scope.name).then(<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</div><div class="line">                $scope.positionList = data.data;</div><div class="line">            &#125;);</div><div class="line">        &#125;;</div><div class="line">        $scope.search();</div><div class="line">        $scope.sheet = &#123;&#125;;</div><div class="line">        $scope.tabList = [&#123;</div><div class="line">            <span class="attr">id</span>: <span class="string">"city"</span>,</div><div class="line">            <span class="attr">name</span>: <span class="string">"城市"</span></div><div class="line">        &#125;, &#123;</div><div class="line">            <span class="attr">id</span>: <span class="string">"salary"</span>,</div><div class="line">            <span class="attr">name</span>: <span class="string">"薪水"</span></div><div class="line">        &#125;, &#123;</div><div class="line">            <span class="attr">id</span>: <span class="string">"scale"</span>,</div><div class="line">            <span class="attr">name</span>: <span class="string">"公司规模"</span></div><div class="line">        &#125;];</div><div class="line">        <span class="keyword">var</span> tabId = <span class="string">""</span>;</div><div class="line">        $scope.filterObj=&#123;&#125;;</div><div class="line">        $scope.tClick = <span class="function"><span class="keyword">function</span> (<span class="params">id, name</span>) </span>&#123;</div><div class="line">            tabId = id;</div><div class="line">            $scope.sheet.list = dict[id].data;</div><div class="line">            $scope.visible = <span class="literal">true</span>;</div><div class="line">        &#125;;</div><div class="line">        $scope.sClick = <span class="function"><span class="keyword">function</span> (<span class="params">id, name</span>) </span>&#123;</div><div class="line">            <span class="keyword">if</span> (id) &#123;</div><div class="line">                angular.forEach($scope.tabList, <span class="function"><span class="keyword">function</span> (<span class="params">item</span>) </span>&#123;</div><div class="line">                    <span class="keyword">if</span> (item.id === tabId) &#123;</div><div class="line">                        item.name = name;</div><div class="line">                    &#125;</div><div class="line">                &#125;);</div><div class="line">                $scope.filterObj[tabId+<span class="string">"Id"</span>]=id;</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                <span class="keyword">delete</span> $scope.filterObj[tabId+<span class="string">"Id"</span>];</div><div class="line">                angular.forEach($scope.tabList, <span class="function"><span class="keyword">function</span> (<span class="params">item</span>) </span>&#123;</div><div class="line">                    <span class="keyword">if</span> (item.id === tabId) &#123;</div><div class="line">                        <span class="keyword">switch</span> (item.id) &#123;</div><div class="line">                            <span class="keyword">case</span> <span class="string">"city"</span>:</div><div class="line">                                item.name = <span class="string">"城市"</span>;</div><div class="line">                                <span class="keyword">break</span>;</div><div class="line">                            <span class="keyword">case</span> <span class="string">"salary"</span>:</div><div class="line">                                item.name = <span class="string">"薪水"</span>;</div><div class="line">                                <span class="keyword">break</span>;</div><div class="line">                            <span class="keyword">case</span> <span class="string">"scale"</span>:</div><div class="line">                                item.name = <span class="string">"公司规模"</span>;</div><div class="line">                                <span class="keyword">break</span>;</div><div class="line">                            <span class="keyword">default</span>:</div><div class="line">                        &#125;</div><div class="line">                    &#125;</div><div class="line">                &#125;);</div><div class="line">            &#125;</div><div class="line">        &#125;;</div><div class="line">    &#125;]);</div></pre></td></tr></table></figure>
<p>下面我贴出一张我在图例上的说明，相信，你很快就能看明白怎么回事</p>
<p><img src="/images/lagou/directive接口.png" alt="img"></p>
</div></article></div></main><footer><div class="paginator"><a href="/2017/03/07/nodejs/mongodb/MongoDB/" class="next">NEXT</a></div><div class="copyright"><p>© 2014 - 2017 <a href="https://github.com/xuhongbo" target="_blank">xuhongbo-github</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>